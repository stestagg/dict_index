<!doctype html>

<head>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet"> 
	<style>
		body{
			font-family: 'Noto Sans JP', sans-serif;
		}

		table,td,th{
			border-collapse: collapse;			
			border: 1px solid #aaa;
			text-align: left;
		}
		td,th{
			padding: 2px 7px;
		}
		th{
			background: #888;
			color: white;
			font-weight: bold;
		}

		.methods {
			display: flex;
			flex-wrap: wrap;
			justify-content: space-around;
		}

		.methods .method {
			box-shadow: 3px 3px 3px rgba(0,0,0,0.2);
			border-radius: 5px;
			margin: 10px;
			background: white;
			display: flex;
			flex-direction: column;
		}
		.method .defn{
			padding: 10px;
			margin: 0;
			background: #272822;
			flex-grow: 1;
			border-bottom-left-radius: 5px;
			border-bottom-right-radius: 5px;
		}
		pre{
			margin:0;
			background: #272822;
		}
		.method .name {
			padding: 10px;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
		}

		.graph {
			width: 800px;
			height: 600px;
			margin: auto;
			box-shadow: 3px 3px 3px rgba(0,0,0,0.2);
		}
		.graph.loading{
			background: #eee;
			box-shadow: 0 0 30px inset rgba(0,0,0, 0.3);
			text-align: center;
			display: flex;
			justify-content: center;
			align-items: center;

		}
		.graph.loading::after{
			content: "Loading";
			font-style: italic;

		}

		.test {
			background: #eee;
			padding: 5px;
			box-sizing: border-box;
			margin: 20px 10px;
			box-shadow: 3px 3px 4px rgba(0,0,0,0.15);
		}

		#graphmenu {
			background: #666;
			color: white;
			position: fixed;
			top: 0;
			right: 20px;
			padding: 0 10px;			
		}
		#graphmenu label{
			margin: 10px;
		}

		.hll { background-color: #49483e }
.c { color: #75715e } /* Comment */
.err { color: #960050; background-color: #1e0010 } /* Error */
.k { color: #66d9ef } /* Keyword */
.l { color: #ae81ff } /* Literal */
.n { color: #f8f8f2 } /* Name */
.o { color: #f92672 } /* Operator */
.p { color: #f8f8f2 } /* Punctuation */
.ch { color: #75715e } /* Comment.Hashbang */
.cm { color: #75715e } /* Comment.Multiline */
.cp { color: #75715e } /* Comment.Preproc */
.cpf { color: #75715e } /* Comment.PreprocFile */
.c1 { color: #75715e } /* Comment.Single */
.cs { color: #75715e } /* Comment.Special */
.gd { color: #f92672 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gi { color: #a6e22e } /* Generic.Inserted */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #75715e } /* Generic.Subheading */
.kc { color: #66d9ef } /* Keyword.Constant */
.kd { color: #66d9ef } /* Keyword.Declaration */
.kn { color: #f92672 } /* Keyword.Namespace */
.kp { color: #66d9ef } /* Keyword.Pseudo */
.kr { color: #66d9ef } /* Keyword.Reserved */
.kt { color: #66d9ef } /* Keyword.Type */
.ld { color: #e6db74 } /* Literal.Date */
.m { color: #ae81ff } /* Literal.Number */
.s { color: #e6db74 } /* Literal.String */
.na { color: #a6e22e } /* Name.Attribute */
.nb { color: #f8f8f2 } /* Name.Builtin */
.nc { color: #a6e22e } /* Name.Class */
.no { color: #66d9ef } /* Name.Constant */
.nd { color: #a6e22e } /* Name.Decorator */
.ni { color: #f8f8f2 } /* Name.Entity */
.ne { color: #a6e22e } /* Name.Exception */
.nf { color: #a6e22e } /* Name.Function */
.nl { color: #f8f8f2 } /* Name.Label */
.nn { color: #f8f8f2 } /* Name.Namespace */
.nx { color: #a6e22e } /* Name.Other */
.py { color: #f8f8f2 } /* Name.Property */
.nt { color: #f92672 } /* Name.Tag */
.nv { color: #f8f8f2 } /* Name.Variable */
.ow { color: #f92672 } /* Operator.Word */
.w { color: #f8f8f2 } /* Text.Whitespace */
.mb { color: #ae81ff } /* Literal.Number.Bin */
.mf { color: #ae81ff } /* Literal.Number.Float */
.mh { color: #ae81ff } /* Literal.Number.Hex */
.mi { color: #ae81ff } /* Literal.Number.Integer */
.mo { color: #ae81ff } /* Literal.Number.Oct */
.sa { color: #e6db74 } /* Literal.String.Affix */
.sb { color: #e6db74 } /* Literal.String.Backtick */
.sc { color: #e6db74 } /* Literal.String.Char */
.dl { color: #e6db74 } /* Literal.String.Delimiter */
.sd { color: #e6db74 } /* Literal.String.Doc */
.s2 { color: #e6db74 } /* Literal.String.Double */
.se { color: #ae81ff } /* Literal.String.Escape */
.sh { color: #e6db74 } /* Literal.String.Heredoc */
.si { color: #e6db74 } /* Literal.String.Interpol */
.sx { color: #e6db74 } /* Literal.String.Other */
.sr { color: #e6db74 } /* Literal.String.Regex */
.s1 { color: #e6db74 } /* Literal.String.Single */
.ss { color: #e6db74 } /* Literal.String.Symbol */
.bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.fm { color: #a6e22e } /* Name.Function.Magic */
.vc { color: #f8f8f2 } /* Name.Variable.Class */
.vg { color: #f8f8f2 } /* Name.Variable.Global */
.vi { color: #f8f8f2 } /* Name.Variable.Instance */
.vm { color: #f8f8f2 } /* Name.Variable.Magic */
.il { color: #ae81ff } /* Literal.Number.Integer.Long */
	</style>
</head>

<body>
	<h1>Dict views index performance comparison - Results</h1>

	<a href="./">Return to listing</a>

	<div id="graphmenu">
		<label>
			<input type=checkbox id="x-log-check" checked>
			X-Log
		</label>
		<label>
			<input type=checkbox id="y-log-check" checked>
			Y-Log
		</label>
	</div>

	<h3>Overview</h3>

	<p>The following tests are designed to assess the performance of a proposed change to the python core language to support direct indexing of dict_keys, dict_items and dict_views objects.</p>

	<p>The change would allow the results of dict.keys(), dict.items() and dict.values() to behave much more like lists.</p>

	<p>Currently, it's only possible to implement dictionary indexing in O(n) time, as dict deletions leave 'holes' in the compact in-memory dictionary structure.  This linear cost, however, is not large.</p>

	<p>The following graphs show the time taken for python to evaluate several variations of a number of simple dictionary operations.  These examples are designed to be instuctive, and representative of only the simplest operations.</p>

	<p>
		Some of the code being tested is code that should never be used in real code, as it exhibits strongly non-linear performance characteristics. They have been included her to demonstrate this fact.
	</p>

	<p>
		If there are any examples missing, or alternate syntaxes that may be more performant, please submit an issue or pull request here: <a href="https://github.com/stestagg/dict_index">github.com/stestagg/dict_index</a>
	</p>

	<p>Code annotated with "(*)" are snippets that do not run without the patches included in this change.  They demonstrate the performance of allowing direct indexing of dict views.</p>



	<h3>Test Environment</h3>
	<table>
		<thead>
			<tr>
				<th>Property</th>
				<th>Value</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Run Time</td>
				<td>2020-07-12 23:01:47</td>
			</tr>
			
				<tr>
					<td>memory</td>
					<td>
						
							Total: <b>267.3 GB</b>
							Available at start: <b>264.9 GB</b>
						
					</td>
				</tr>
			
				<tr>
					<td>release</td>
					<td>
						
							<b>5.7.2-1-ec2</b>
						
					</td>
				</tr>
			
				<tr>
					<td>system</td>
					<td>
						
							<b>Linux</b>
						
					</td>
				</tr>
			
				<tr>
					<td>processor</td>
					<td>
						
							<b>Intel(R) Xeon(R) Platinum 8175M CPU @ 2.50GHz</b>
						
					</td>
				</tr>
			
				<tr>
					<td>python_compiler</td>
					<td>
						
							<b>GCC 10.1.1 20200705</b>
						
					</td>
				</tr>
			
				<tr>
					<td>python_build</td>
					<td>
						
							<b>[&#39;tags/v3.9.0a6-781-g8182cc2e68-dirty:8182cc2e68&#39;, &#39;Jul 12 2020 22:49:07&#39;]</b>
						
					</td>
				</tr>
			
				<tr>
					<td>python_implementation</td>
					<td>
						
							<b>CPython</b>
						
					</td>
				</tr>
			
				<tr>
					<td>python_revision</td>
					<td>
						
							<b>8182cc2e68</b>
						
					</td>
				</tr>
			
		</tbody>
	</table>

	<h3>Tests</h3>

	<ul>
		
			<li><a href="#GetFirstKey">Get first key</a></li>
		
			<li><a href="#GetLastKey">Get last key</a></li>
		
			<li><a href="#IterKeys">Iterate over all keys</a></li>
		
			<li><a href="#IterItems">Iterate over all items</a></li>
		

	</ul>

	
	<div class="test">
		<h4><a name="GetFirstKey">Get first key</a></h4>

		Best of <b>3</b> runs, over dictionaries with <b>1 - 500,000,000</b> items.

		<div class=methods>
			
			<div class=method>
				<div class=name>use_list</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">use_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calling list on the dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>use_iter</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">use_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calling iter on the keys</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>proposed(*)</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">proposed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Using keys indexing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
			</div>
			
		</div>

		<div class="graph loading" id="graph-GetFirstKey"></div>
	</div>
	
	<div class="test">
		<h4><a name="GetLastKey">Get last key</a></h4>

		Best of <b>3</b> runs, over dictionaries with <b>1 - 500,000,000</b> items.

		<div class=methods>
			
			<div class=method>
				<div class=name>use_list</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">use_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>use_iter</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">use_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>proposed(*)</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">proposed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
			</div>
			
		</div>

		<div class="graph loading" id="graph-GetLastKey"></div>
	</div>
	
	<div class="test">
		<h4><a name="IterKeys">Iterate over all keys</a></h4>

		Best of <b>3</b> runs, over dictionaries with <b>1 - 500,000,000</b> items.

		<div class=methods>
			
			<div class=method>
				<div class=name>list_index</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">list_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This is a bad way of doing this &quot;&quot;&quot;</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)):</span>
        <span class="n">last_key</span> <span class="o">=</span> <span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">last_key</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>list_iter</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">list_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This is a bad way of doing this &quot;&quot;&quot;</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
        <span class="n">last_key</span> <span class="o">=</span> <span class="n">key</span>
    <span class="k">return</span> <span class="n">last_key</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>direct_iter</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">direct_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">last_key</span> <span class="o">=</span> <span class="n">key</span>
    <span class="k">return</span> <span class="n">last_key</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>keys_index(*)</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">keys_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Using keys indexing. This approach is *not* recommended,</span>
<span class="sd">    but included here to assess the performance of sitations</span>
<span class="sd">    where this may be done in &#39;error&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">keys</span><span class="p">)):</span>
        <span class="n">last_key</span> <span class="o">=</span> <span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">last_key</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>iter_keys</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">iter_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Using the sensible iter()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">last_key</span> <span class="o">=</span> <span class="n">key</span>
    <span class="k">return</span> <span class="n">last_key</span>
</pre></div>
</div>
			</div>
			
		</div>

		<div class="graph loading" id="graph-IterKeys"></div>
	</div>
	
	<div class="test">
		<h4><a name="IterItems">Iterate over all items</a></h4>

		Best of <b>3</b> runs, over dictionaries with <b>1 - 500,000,000</b> items.

		<div class=methods>
			
			<div class=method>
				<div class=name>list_index</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">list_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This is a bad way of doing this &quot;&quot;&quot;</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)):</span>
        <span class="n">last_item</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">last_item</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>list_iter</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">list_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This is a bad way of doing this &quot;&quot;&quot;</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">last_item</span> <span class="o">=</span> <span class="n">item</span>
    <span class="k">return</span> <span class="n">last_item</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>direct_iter</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">direct_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">last_item</span> <span class="o">=</span> <span class="n">item</span>
    <span class="k">return</span> <span class="n">last_item</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>items_index(*)</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">items_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Using items indexing. This approach is *not* recommended,</span>
<span class="sd">    but included here to assess the performance of sitations</span>
<span class="sd">    where this may be done in &#39;error&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)):</span>
        <span class="n">last_item</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">last_item</span>
</pre></div>
</div>
			</div>
			
			<div class=method>
				<div class=name>iter_items</div>
				<div class=defn><div class="highlight"><pre><span></span><span class="nd">@Test.method</span>
<span class="k">def</span> <span class="nf">iter_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Using the sensible iter()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">last_item</span> <span class="o">=</span> <span class="n">item</span>
    <span class="k">return</span> <span class="n">last_item</span>
</pre></div>
</div>
			</div>
			
		</div>

		<div class="graph loading" id="graph-IterItems"></div>
	</div>
	

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<script>

	const chart_data = [{"cls": "IterItems", "series": [{"color": "#1f77b4", "dataPoints": [{"x": 10000, "y": 1.0989690001679264}, {"x": 10000, "y": 1.1570169999686186}, {"x": 10000, "y": 1.1038389998248022}, {"x": 1000000, "y": 143.1668019999961}, {"x": 1000000, "y": 145.91008400020655}, {"x": 1000000, "y": 147.60160800005906}, {"x": 1, "y": 0.004624999974112143}, {"x": 1, "y": 0.004461999651539372}, {"x": 1, "y": 0.004631999672710663}, {"x": 100, "y": 0.011809000170615036}, {"x": 100, "y": 0.01173799955722643}, {"x": 100, "y": 0.009729000339575578}, {"x": 500000000, "y": 73924.79760100014}, {"x": 500000000, "y": 73678.52461899929}, {"x": 500000000, "y": 72416.68846900029}, {"x": 100000000, "y": 14892.98993400007}, {"x": 100000000, "y": 14487.70578499989}, {"x": 100000000, "y": 14497.091220000584}], "name": "list_index.runs", "showInLegend": false, "type": "scatter"}, {"color": "#1f77b4", "dataPoints": [{"x": 1, "y": 0.004461999651539372}, {"x": 100, "y": 0.009729000339575578}, {"x": 10000, "y": 1.0989690001679264}, {"x": 1000000, "y": 143.1668019999961}, {"x": 100000000, "y": 14487.70578499989}, {"x": 500000000, "y": 72416.68846900029}], "name": "list_index", "showInLegend": true, "type": "spline"}, {"color": "#ff7f0e", "dataPoints": [{"x": 10000, "y": 0.258482999925036}, {"x": 10000, "y": 0.2810690002661431}, {"x": 10000, "y": 0.2720200000112527}, {"x": 100000000, "y": 2494.0838409997923}, {"x": 100000000, "y": 2496.1393930000213}, {"x": 100000000, "y": 2482.4743139997736}, {"x": 1, "y": 0.001207999957841821}, {"x": 1, "y": 0.0026050001906696707}, {"x": 1, "y": 0.0025500003175693564}, {"x": 500000000, "y": 12874.14722099993}, {"x": 500000000, "y": 12733.660351999788}, {"x": 500000000, "y": 12700.875628000176}, {"x": 1000000, "y": 25.86690699990868}, {"x": 1000000, "y": 25.860155000373197}, {"x": 1000000, "y": 25.646332999713195}, {"x": 100, "y": 0.005548999979509972}, {"x": 100, "y": 0.005260999387246557}, {"x": 100, "y": 0.004468000042834319}], "name": "direct_iter.runs", "showInLegend": false, "type": "scatter"}, {"color": "#ff7f0e", "dataPoints": [{"x": 1, "y": 0.001207999957841821}, {"x": 100, "y": 0.004468000042834319}, {"x": 10000, "y": 0.258482999925036}, {"x": 1000000, "y": 25.646332999713195}, {"x": 100000000, "y": 2482.4743139997736}, {"x": 500000000, "y": 12700.875628000176}], "name": "direct_iter", "showInLegend": true, "type": "spline"}, {"color": "#2ca02c", "dataPoints": [{"x": 500000000, "y": 60586.390346999906}, {"x": 500000000, "y": 60558.31912899998}, {"x": 500000000, "y": 60932.894554000086}, {"x": 100000000, "y": 12119.896012000027}, {"x": 100000000, "y": 12112.969760000851}, {"x": 100000000, "y": 12185.475820000647}, {"x": 1000000, "y": 119.76900699983162}, {"x": 1000000, "y": 120.76479200004542}, {"x": 1000000, "y": 120.86324099982448}, {"x": 100, "y": 0.0100789998214168}, {"x": 100, "y": 0.00716600015948643}, {"x": 100, "y": 0.008338999577972572}, {"x": 1, "y": 0.002086999757011654}, {"x": 1, "y": 0.0017120000848080963}, {"x": 1, "y": 0.0036980000004405156}, {"x": 10000, "y": 0.8528089992978494}, {"x": 10000, "y": 0.9179219996440224}, {"x": 10000, "y": 0.8794839995971415}], "name": "list_iter.runs", "showInLegend": false, "type": "scatter"}, {"color": "#2ca02c", "dataPoints": [{"x": 1, "y": 0.0017120000848080963}, {"x": 100, "y": 0.00716600015948643}, {"x": 10000, "y": 0.8528089992978494}, {"x": 1000000, "y": 119.76900699983162}, {"x": 100000000, "y": 12112.969760000851}, {"x": 500000000, "y": 60558.31912899998}], "name": "list_iter", "showInLegend": true, "type": "spline"}, {"color": "#d62728", "dataPoints": [{"x": 500000000, "y": 34972.064714}, {"x": 500000000, "y": 35657.878223000356}, {"x": 500000000, "y": 35814.018241000216}, {"x": 100, "y": 0.009421999948244775}, {"x": 100, "y": 0.00774100044509396}, {"x": 100, "y": 0.008113999683700968}, {"x": 100000000, "y": 6966.751284000111}, {"x": 100000000, "y": 6967.624911000257}, {"x": 100000000, "y": 7004.073074999724}, {"x": 1, "y": 0.003437000032135984}, {"x": 1, "y": 0.003020999884029152}, {"x": 1, "y": 0.003122000634903088}, {"x": 1000000, "y": 70.95203199969546}, {"x": 1000000, "y": 71.0375590001604}, {"x": 1000000, "y": 69.68022500041116}, {"x": 10000, "y": 0.7328100000449922}, {"x": 10000, "y": 0.7295569998859719}, {"x": 10000, "y": 0.7081869998728507}], "name": "items_index(*).runs", "showInLegend": false, "type": "scatter"}, {"color": "#d62728", "dataPoints": [{"x": 1, "y": 0.003020999884029152}, {"x": 100, "y": 0.00774100044509396}, {"x": 10000, "y": 0.7081869998728507}, {"x": 1000000, "y": 69.68022500041116}, {"x": 100000000, "y": 6966.751284000111}, {"x": 500000000, "y": 34972.064714}], "name": "items_index(*)", "showInLegend": true, "type": "spline"}, {"color": "#9467bd", "dataPoints": [{"x": 100000000, "y": 2557.8792359999625}, {"x": 100000000, "y": 2547.8157320003447}, {"x": 100000000, "y": 2484.682898000756}, {"x": 500000000, "y": 12428.800735999857}, {"x": 500000000, "y": 12443.296878000183}, {"x": 500000000, "y": 13228.969415999927}, {"x": 10000, "y": 0.2457990001403232}, {"x": 10000, "y": 0.28590600049938075}, {"x": 10000, "y": 0.3116210000371211}, {"x": 1, "y": 0.0029689999792026356}, {"x": 1, "y": 0.001517999862699071}, {"x": 1, "y": 0.0018060000002151355}, {"x": 1000000, "y": 25.73121999967043}, {"x": 1000000, "y": 25.822277999850485}, {"x": 1000000, "y": 25.39692699974694}, {"x": 100, "y": 0.005449000127555337}, {"x": 100, "y": 0.006440000106522348}, {"x": 100, "y": 0.004798000190930907}], "name": "iter_items.runs", "showInLegend": false, "type": "scatter"}, {"color": "#9467bd", "dataPoints": [{"x": 1, "y": 0.001517999862699071}, {"x": 100, "y": 0.004798000190930907}, {"x": 10000, "y": 0.2457990001403232}, {"x": 1000000, "y": 25.39692699974694}, {"x": 100000000, "y": 2484.682898000756}, {"x": 500000000, "y": 12428.800735999857}], "name": "iter_items", "showInLegend": true, "type": "spline"}]}, {"cls": "IterKeys", "series": [{"color": "#1f77b4", "dataPoints": [{"x": 10000, "y": 0.1409179999427579}, {"x": 10000, "y": 0.1706610000837827}, {"x": 10000, "y": 0.17646900050749537}, {"x": 100, "y": 0.0023330003386945464}, {"x": 100, "y": 0.0029689999792026356}, {"x": 100, "y": 0.004054999408253934}, {"x": 1000000, "y": 15.594125000006898}, {"x": 1000000, "y": 15.957476000039605}, {"x": 1000000, "y": 15.745460000289313}, {"x": 1, "y": 0.0014450001799559686}, {"x": 1, "y": 0.002046000190603081}, {"x": 1, "y": 0.001089999386749696}, {"x": 500000000, "y": 7794.699897999635}, {"x": 500000000, "y": 7805.1790240006085}, {"x": 500000000, "y": 7524.234277999312}, {"x": 100000000, "y": 1548.1786459999967}, {"x": 100000000, "y": 1493.7188929998229}, {"x": 100000000, "y": 1495.037861000128}], "name": "direct_iter.runs", "showInLegend": false, "type": "scatter"}, {"color": "#1f77b4", "dataPoints": [{"x": 1, "y": 0.001089999386749696}, {"x": 100, "y": 0.0023330003386945464}, {"x": 10000, "y": 0.1409179999427579}, {"x": 1000000, "y": 15.594125000006898}, {"x": 100000000, "y": 1493.7188929998229}, {"x": 500000000, "y": 7524.234277999312}], "name": "direct_iter", "showInLegend": true, "type": "spline"}, {"color": "#ff7f0e", "dataPoints": [{"x": 10000, "y": 0.3766830000131449}, {"x": 10000, "y": 0.3931749999992462}, {"x": 10000, "y": 0.42215799976474955}, {"x": 100000000, "y": 3975.184249999984}, {"x": 100000000, "y": 4126.722882000195}, {"x": 100000000, "y": 3975.1931860000695}, {"x": 1000000, "y": 39.79811900012464}, {"x": 1000000, "y": 39.95854100003271}, {"x": 1000000, "y": 40.29038900080195}, {"x": 100, "y": 0.005286000032356242}, {"x": 100, "y": 0.0054060001275502145}, {"x": 100, "y": 0.005024000074627111}, {"x": 1, "y": 0.003049000042665284}, {"x": 1, "y": 0.0006410000423784368}, {"x": 1, "y": 0.002712000423343852}, {"x": 500000000, "y": 20358.075064999866}, {"x": 500000000, "y": 20132.35961999999}, {"x": 500000000, "y": 20189.967893999892}], "name": "keys_index(*).runs", "showInLegend": false, "type": "scatter"}, {"color": "#ff7f0e", "dataPoints": [{"x": 1, "y": 0.0006410000423784368}, {"x": 100, "y": 0.005024000074627111}, {"x": 10000, "y": 0.3766830000131449}, {"x": 1000000, "y": 39.79811900012464}, {"x": 100000000, "y": 3975.184249999984}, {"x": 500000000, "y": 20132.35961999999}], "name": "keys_index(*)", "showInLegend": true, "type": "spline"}, {"color": "#2ca02c", "dataPoints": [{"x": 10000, "y": 0.1795180000954133}, {"x": 10000, "y": 0.21130000004632166}, {"x": 10000, "y": 0.18987699968420202}, {"x": 500000000, "y": 15442.045910999923}, {"x": 500000000, "y": 15739.547165000204}, {"x": 500000000, "y": 15416.942624000512}, {"x": 1000000, "y": 26.51091500001712}, {"x": 1000000, "y": 26.758719000099518}, {"x": 1000000, "y": 27.41621600034705}, {"x": 1, "y": 0.0033549999898241367}, {"x": 1, "y": 0.0033839996831375174}, {"x": 1, "y": 0.0033149999580928124}, {"x": 100000000, "y": 3117.2573469998497}, {"x": 100000000, "y": 3131.237351999971}, {"x": 100000000, "y": 3066.318742000476}, {"x": 100, "y": 0.006492000011348864}, {"x": 100, "y": 0.0051560000429162756}, {"x": 100, "y": 0.005658000191033352}], "name": "list_iter.runs", "showInLegend": false, "type": "scatter"}, {"color": "#2ca02c", "dataPoints": [{"x": 1, "y": 0.0033149999580928124}, {"x": 100, "y": 0.0051560000429162756}, {"x": 10000, "y": 0.1795180000954133}, {"x": 1000000, "y": 26.51091500001712}, {"x": 100000000, "y": 3066.318742000476}, {"x": 500000000, "y": 15416.942624000512}], "name": "list_iter", "showInLegend": true, "type": "spline"}, {"color": "#d62728", "dataPoints": [{"x": 100, "y": 0.00283800000033807}, {"x": 100, "y": 0.003917999947589124}, {"x": 100, "y": 0.0034360000427113846}, {"x": 1000000, "y": 15.185549000079845}, {"x": 1000000, "y": 15.14202699991074}, {"x": 1000000, "y": 16.004095000425878}, {"x": 1, "y": 0.0013160001799406018}, {"x": 1, "y": 0.0018340001588512678}, {"x": 1, "y": 0.0009659997886046767}, {"x": 100000000, "y": 1521.7976209996777}, {"x": 100000000, "y": 1543.0800200001613}, {"x": 100000000, "y": 1512.9328619996159}, {"x": 500000000, "y": 7660.0248069999}, {"x": 500000000, "y": 7505.619064000712}, {"x": 500000000, "y": 7564.679664000323}, {"x": 10000, "y": 0.17713499983074144}, {"x": 10000, "y": 0.16727199999877485}, {"x": 10000, "y": 0.17357400065520778}], "name": "iter_keys.runs", "showInLegend": false, "type": "scatter"}, {"color": "#d62728", "dataPoints": [{"x": 1, "y": 0.0009659997886046767}, {"x": 100, "y": 0.00283800000033807}, {"x": 10000, "y": 0.16727199999877485}, {"x": 1000000, "y": 15.14202699991074}, {"x": 100000000, "y": 1512.9328619996159}, {"x": 500000000, "y": 7505.619064000712}], "name": "iter_keys", "showInLegend": true, "type": "spline"}, {"color": "#9467bd", "dataPoints": [{"x": 1, "y": 0.004223999894747976}, {"x": 1, "y": 0.00565799928153865}, {"x": 1, "y": 0.005520000740943942}, {"x": 10000, "y": 0.4248190000453178}, {"x": 10000, "y": 0.45876300009695115}, {"x": 10000, "y": 0.46418900001299335}, {"x": 500000000, "y": 28633.364225999685}, {"x": 500000000, "y": 27544.76097299994}, {"x": 500000000, "y": 27334.922490999816}, {"x": 100000000, "y": 5595.085206000022}, {"x": 100000000, "y": 5474.390904999382}, {"x": 100000000, "y": 5433.342471000287}, {"x": 100, "y": 0.008136999895214103}, {"x": 100, "y": 0.009489000149187632}, {"x": 100, "y": 0.008087999958661385}, {"x": 1000000, "y": 51.6627659999358}, {"x": 1000000, "y": 50.49021200011339}, {"x": 1000000, "y": 51.0321900001145}], "name": "list_index.runs", "showInLegend": false, "type": "scatter"}, {"color": "#9467bd", "dataPoints": [{"x": 1, "y": 0.004223999894747976}, {"x": 100, "y": 0.008087999958661385}, {"x": 10000, "y": 0.4248190000453178}, {"x": 1000000, "y": 50.49021200011339}, {"x": 100000000, "y": 5433.342471000287}, {"x": 500000000, "y": 27334.922490999816}], "name": "list_index", "showInLegend": true, "type": "spline"}]}, {"cls": "GetLastKey", "series": [{"color": "#1f77b4", "dataPoints": [{"x": 10000, "y": 0.0793280000834784}, {"x": 10000, "y": 0.09167000007437309}, {"x": 10000, "y": 0.09401499937666813}, {"x": 1, "y": 0.0015399998574139317}, {"x": 1, "y": 0.001838000116549665}, {"x": 1, "y": 0.002339999809919391}, {"x": 100, "y": 0.002956999878733768}, {"x": 100, "y": 0.005361000148695894}, {"x": 100, "y": 0.004794000233232509}, {"x": 500000000, "y": 9325.292543999694}, {"x": 500000000, "y": 9317.27877799949}, {"x": 500000000, "y": 9332.250710000153}, {"x": 100000000, "y": 1879.543914000351}, {"x": 100000000, "y": 1860.5964480002513}, {"x": 100000000, "y": 1860.0431670001853}, {"x": 1000000, "y": 15.219505999993999}, {"x": 1000000, "y": 14.363924999997835}, {"x": 1000000, "y": 14.766309000151523}], "name": "use_list.runs", "showInLegend": false, "type": "scatter"}, {"color": "#1f77b4", "dataPoints": [{"x": 1, "y": 0.0015399998574139317}, {"x": 100, "y": 0.002956999878733768}, {"x": 10000, "y": 0.0793280000834784}, {"x": 1000000, "y": 14.363924999997835}, {"x": 100000000, "y": 1860.0431670001853}, {"x": 500000000, "y": 9317.27877799949}], "name": "use_list", "showInLegend": true, "type": "spline"}, {"color": "#ff7f0e", "dataPoints": [{"x": 1000000, "y": 0.005803000021842308}, {"x": 1000000, "y": 0.005809999947814504}, {"x": 1000000, "y": 0.004941999577567913}, {"x": 100, "y": 0.001376999989588512}, {"x": 100, "y": 0.0023250004232977517}, {"x": 100, "y": 0.0023149996195570566}, {"x": 100000000, "y": 0.004890000127488747}, {"x": 100000000, "y": 0.006349999694066355}, {"x": 100000000, "y": 0.0063340003180201165}, {"x": 1, "y": 0.0023640000108571257}, {"x": 1, "y": 0.001445999714633217}, {"x": 1, "y": 0.002635999408084899}, {"x": 10000, "y": 0.0014440001905313693}, {"x": 10000, "y": 0.0026250004339090083}, {"x": 10000, "y": 0.0019940007405239157}, {"x": 500000000, "y": 0.005234999662206974}, {"x": 500000000, "y": 0.004874999831372406}, {"x": 500000000, "y": 0.004800000169780105}], "name": "proposed(*).runs", "showInLegend": false, "type": "scatter"}, {"color": "#ff7f0e", "dataPoints": [{"x": 1, "y": 0.001445999714633217}, {"x": 100, "y": 0.001376999989588512}, {"x": 10000, "y": 0.0014440001905313693}, {"x": 1000000, "y": 0.004941999577567913}, {"x": 100000000, "y": 0.004890000127488747}, {"x": 500000000, "y": 0.004800000169780105}], "name": "proposed(*)", "showInLegend": true, "type": "spline"}, {"color": "#2ca02c", "dataPoints": [{"x": 1, "y": 0.004585999931805418}, {"x": 1, "y": 0.002817000222421484}, {"x": 1, "y": 0.004574000740831252}, {"x": 100, "y": 0.0030489998152916087}, {"x": 100, "y": 0.0034780000532919075}, {"x": 100, "y": 0.00359699970431393}, {"x": 100000000, "y": 0.007675999995626626}, {"x": 100000000, "y": 0.009425999905943172}, {"x": 100000000, "y": 0.008236999747168738}, {"x": 1000000, "y": 0.008710000201972434}, {"x": 1000000, "y": 0.009284000043408014}, {"x": 1000000, "y": 0.00828199972602306}, {"x": 500000000, "y": 0.008689999958733097}, {"x": 500000000, "y": 0.007964000360516366}, {"x": 500000000, "y": 0.008097999852907378}, {"x": 10000, "y": 0.005449000127555337}, {"x": 10000, "y": 0.005405999672802864}, {"x": 10000, "y": 0.004279000677342992}], "name": "use_iter.runs", "showInLegend": false, "type": "scatter"}, {"color": "#2ca02c", "dataPoints": [{"x": 1, "y": 0.002817000222421484}, {"x": 100, "y": 0.0030489998152916087}, {"x": 10000, "y": 0.004279000677342992}, {"x": 1000000, "y": 0.00828199972602306}, {"x": 100000000, "y": 0.007675999995626626}, {"x": 500000000, "y": 0.007964000360516366}], "name": "use_iter", "showInLegend": true, "type": "spline"}]}, {"cls": "GetFirstKey", "series": [{"color": "#1f77b4", "dataPoints": [{"x": 500000000, "y": 0.0063109998791333055}, {"x": 500000000, "y": 0.006443000074796146}, {"x": 500000000, "y": 0.0065909998738789}, {"x": 10000, "y": 0.003169000137859257}, {"x": 10000, "y": 0.003690000085043721}, {"x": 10000, "y": 0.0019270000848337077}, {"x": 100000000, "y": 0.00603199987381231}, {"x": 100000000, "y": 0.0069090001488802955}, {"x": 100000000, "y": 0.006606999704672489}, {"x": 100, "y": 0.0019799999790848233}, {"x": 100, "y": 0.002732000211835839}, {"x": 100, "y": 0.0027599999157246202}, {"x": 1000000, "y": 0.007257000106619671}, {"x": 1000000, "y": 0.006093999218137469}, {"x": 1000000, "y": 0.005963000148767605}, {"x": 1, "y": 0.0013670005500898696}, {"x": 1, "y": 0.0033090000215452164}, {"x": 1, "y": 0.0012549999155453406}], "name": "use_iter.runs", "showInLegend": false, "type": "scatter"}, {"color": "#1f77b4", "dataPoints": [{"x": 1, "y": 0.0012549999155453406}, {"x": 100, "y": 0.0019799999790848233}, {"x": 10000, "y": 0.0019270000848337077}, {"x": 1000000, "y": 0.005963000148767605}, {"x": 100000000, "y": 0.00603199987381231}, {"x": 500000000, "y": 0.0063109998791333055}], "name": "use_iter", "showInLegend": true, "type": "spline"}, {"color": "#ff7f0e", "dataPoints": [{"x": 100, "y": 0.0006660000053670956}, {"x": 100, "y": 0.0007259995982167311}, {"x": 100, "y": 0.0022119993445812725}, {"x": 500000000, "y": 0.0048469999001099495}, {"x": 500000000, "y": 0.005300999873725232}, {"x": 500000000, "y": 0.004857999556406867}, {"x": 1000000, "y": 0.005607999810308684}, {"x": 1000000, "y": 0.0049300001592200715}, {"x": 1000000, "y": 0.006116000349720707}, {"x": 100000000, "y": 0.005542000053537777}, {"x": 100000000, "y": 0.005805999990116106}, {"x": 100000000, "y": 0.0050019998525385745}, {"x": 10000, "y": 0.002716999915719498}, {"x": 10000, "y": 0.002056999619526323}, {"x": 10000, "y": 0.0020170000425423495}, {"x": 1, "y": 0.0006109999048931058}, {"x": 1, "y": 0.00036899973565596156}, {"x": 1, "y": 0.0017860002117231488}], "name": "proposed(*).runs", "showInLegend": false, "type": "scatter"}, {"color": "#ff7f0e", "dataPoints": [{"x": 1, "y": 0.00036899973565596156}, {"x": 100, "y": 0.0006660000053670956}, {"x": 10000, "y": 0.0020170000425423495}, {"x": 1000000, "y": 0.0049300001592200715}, {"x": 100000000, "y": 0.0050019998525385745}, {"x": 500000000, "y": 0.0048469999001099495}], "name": "proposed(*)", "showInLegend": true, "type": "spline"}, {"color": "#2ca02c", "dataPoints": [{"x": 10000, "y": 0.06472699988080421}, {"x": 10000, "y": 0.09103399997911765}, {"x": 10000, "y": 0.09859300007519778}, {"x": 100000000, "y": 1889.7340930000155}, {"x": 100000000, "y": 1884.6861549995992}, {"x": 100000000, "y": 1878.0644759999632}, {"x": 1, "y": 0.002751000010903226}, {"x": 1, "y": 0.0034320000850129873}, {"x": 1, "y": 0.002787000084936153}, {"x": 500000000, "y": 9417.134896999869}, {"x": 500000000, "y": 9413.847964000524}, {"x": 500000000, "y": 9339.122897999914}, {"x": 1000000, "y": 14.701021000291803}, {"x": 1000000, "y": 14.612984999985201}, {"x": 1000000, "y": 14.309965999927954}, {"x": 100, "y": 0.00510300014866516}, {"x": 100, "y": 0.003946999640902504}, {"x": 100, "y": 0.0023989996407181025}], "name": "use_list.runs", "showInLegend": false, "type": "scatter"}, {"color": "#2ca02c", "dataPoints": [{"x": 1, "y": 0.002751000010903226}, {"x": 100, "y": 0.0023989996407181025}, {"x": 10000, "y": 0.06472699988080421}, {"x": 1000000, "y": 14.309965999927954}, {"x": 100000000, "y": 1878.0644759999632}, {"x": 500000000, "y": 9339.122897999914}], "name": "use_list", "showInLegend": true, "type": "spline"}]}];
	const charts = [];

	document.addEventListener('DOMContentLoaded', function() {
		chart_data.forEach(function(data) {
			const element_id = 'graph-' + data.cls;
			document.getElementById(element_id).classList.remove('loading');
			const chart = new CanvasJS.Chart(element_id, {
				axisX:{
					logarithmic: true,
					titleFontSize: 14,
					title: "Items in dict (log scale)", 
					labelFontSize: 12
				},
				axisY:{
					logarithmic: true,
					titleFontSize: 14,
					title: "Runtime (ms)", 
					labelFontSize: 12
				},
    			legend: {
                	cursor: "pointer",
                	fontSize: 13,
	                itemclick: function (e) {
	                	const companion_name = e.dataSeries.name + ".runs";
	                	const companion_series = e.chart.data.filter(function(ds) { 
	                		return ds.name == companion_name 
	                	})[0];

	                	const is_visible = (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible);
	                	const visibility = is_visible ? false : true;

	                    e.dataSeries.visible = visibility;
	                    if (companion_series) {
	                    	companion_series.set('visible', visibility);
	                    }
	                    e.chart.render();
	                }
            	},
				

				data: data.series

			});
			chart.render();
			charts.push(chart);
		});
	});

	const x_log = document.getElementById('x-log-check');
	x_log.addEventListener('change', function(e) {
		charts.forEach(function(chart) {
			chart.axisX[0].set('logarithmic', x_log.checked);
		})
	});

	const y_log = document.getElementById('y-log-check');
	y_log.addEventListener('change', function(e) {
		charts.forEach(function(chart) {
			chart.axisY[0].set('logarithmic', y_log.checked);
		})
	});

</script>

</body>
